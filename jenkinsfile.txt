
pipeline {

  agent any
 

  options {
    disableConcurrentBuilds()
    buildDiscarder(logRotator(numToKeepStr: '10', artifactNumToKeepStr: '5'))
  }

 stages {
    stage('SCM Checkout') {
      steps {
        script {
           log.outputBanner('Checkout from Corelight Helm charts repository')
          
            dir('my-bmw-corelight-charts') {
               git credentialsId: '62fad565-6f44-4f5f-a7c1-62297b0c73bb', url: 'https://github.com/gudihimabindu/javaapp.git'
            }
         }
      }   
     }
   stage('Build') {
      steps {
        script {
          log.outputBanner('Building backend')

          dir('my-bmw-corelight-back-end') {
             withgradle(){
              sh './gradlew -v'
              }
          }
        }
      }
    }
  }  
}
